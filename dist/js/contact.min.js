"use strict";!function(){$(function(){$.each($(".site__menu"),function(){new n($(this))}),$.each($(".language"),function(){new e($(this))})});var e=function(e){var n,o,i=e,s=$(".language__dropdown"),t=$(".language__item"),a=200,c=($(window),function(){t.on({click:function(e){$(this).parent().hasClass("language__active")&&(i.trigger("mouseenter"),e.preventDefault()),$(this).parent().hasClass("language__dropdown")&&($(".language__active .language__item").appendTo(s),$(this).appendTo(".language__active"),s.stop(!0,!0).slideUp(a))}}),i.on({mouseenter:function(){clearTimeout(o),n=setTimeout(function(){s.stop(!0,!0).slideDown(a)},200)}}),i.on({mouseleave:function(){clearTimeout(n),o=setTimeout(function(){s.is(":visible")&&s.stop(!0,!0).slideUp(a)},200)}})}),u=function(){c()};u()},n=function(e){var n=this,o=e,i=$("body"),s=$(window),t=$(".site__menu-btn"),a=function(){t.on({click:function(){u($(this))}}),s.on({resize:function(){l()},scroll:function(){c()}})},c=function(){var e=s.scrollTop(),n=$(".site__hero").innerHeight();e>n?t.hasClass("active")||t.addClass("active"):t.removeClass("active")},u=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),o.removeClass("opened"),i.css({overflow:"visible"})):(n.addClass("opened"),o.addClass("opened"),i.css({overflow:"hidden"}))},l=function(){t.removeClass("opened"),o.removeAttr("style"),i.css({overflow:"visible"})},r=function(){o[0].obj=n,a()};r()}}();
!function(){"use strict";$(function(){$.each($(".slides"),function(){new n($(this))})});var n=function(n){var i=this,t=n,o=$(window),s=function(){o.on({scroll:function(){a()}})},a=function(){var n=o.height();t.each(function(){var i=$(this),s=t.offset().top;o.scrollTop()>s-n/1.3&&!i.hasClass("animation")&&i.addClass("animation")})},c=function(){t[0].slides=i,s(),a()};c()}}();
!function(){"use strict";$(function(){$.each($(".contact__map"),function(){new n($(this))})});var n=function(n){this.obj=n,this.mapWrap=this.obj;var o,t=this,e=[],a=null,i=function(){c(),l()},s=function(){var n={zoom:a.zoom,scrollwheel:!1};o=new google.maps.Map(t.mapWrap[0],n),g(o)},c=function(){$.getJSON("json/contact-map.json",{},function(n){a=n,google.maps.event.addDomListener(window,"load",s)})},l=function(){},g=function(n){for(var o=0;o<a.places.length;o++)m(o,n)},m=function(n,t){setTimeout(function(){var i=a.places[n],s=new google.maps.LatLng(i.lat,i.lng),c=new google.maps.LatLngBounds;e[n]=new google.maps.Marker({position:s,map:t,clickable:!1,icon:{url:i.icon,scaledSize:new google.maps.Size(i.size[0],i.size[1])},animation:google.maps.Animation.DROP});for(var l=0;l<e.length;l++)""!==e[l]&&c.extend(e[l].getPosition());o.fitBounds(c)},300*n)};i()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmFuaW1hdGlvbi5qcyIsImpxdWVyeS5jb250YWN0LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiTWVudSIsInRoaXMiLCJMYW5ndWFnZSIsIm9iaiIsIl9tb3VzZWVudGVyVGltZW91dCIsIl9tb3VzZWxlYXZlVGltZW91dCIsIl9vYmoiLCJfbGFuZ3VhZ2VzRHJvcERvd24iLCJfbGFuZ3VhZ2VzSXRlbSIsIl9sYW5ndWFnZXNEcm9wRG93blNwZWVkIiwiX2FkZEV2ZW50cyIsIndpbmRvdyIsIm9uIiwiY2xpY2siLCJlIiwicGFyZW50IiwiaGFzQ2xhc3MiLCJ0cmlnZ2VyIiwicHJldmVudERlZmF1bHQiLCJhcHBlbmRUbyIsInN0b3AiLCJzbGlkZVVwIiwibW91c2VlbnRlciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJzbGlkZURvd24iLCJtb3VzZWxlYXZlIiwiaXMiLCJfaW5pdCIsIl9zZWxmIiwiX21lbnUiLCJfYm9keSIsIl93aW5kb3ciLCJfc2hvd0J0biIsIl9vbkV2ZW50cyIsIl9vcGVuTWVudSIsInJlc2l6ZSIsIl9yZXNldFN0eWxlIiwic2Nyb2xsIiwiX2NoZWNrU2Nyb2xsIiwid2luZG93U2Nyb2xsIiwic2Nyb2xsVG9wIiwiaGVyb0hlaWdodCIsImlubmVySGVpZ2h0IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImVsZW0iLCJjdXJJdGVtIiwiY3NzIiwib3ZlcmZsb3ciLCJyZW1vdmVBdHRyIiwiU2xpZGVzIiwid2luZG93SCIsImhlaWdodCIsInRvcFBvcyIsIm9mZnNldCIsInRvcCIsInNsaWRlcyIsIk1hcCIsIm1hcFdyYXAiLCJfbWFwIiwiX21hcmtlcnMiLCJfZGF0YSIsIl9jb25zdHJ1Y3RvciIsIl9sb2FkRGF0YSIsIl9pbml0TWFwIiwibWFwT3B0aW9ucyIsInpvb20iLCJzY3JvbGx3aGVlbCIsImdvb2dsZSIsIm1hcHMiLCJfc2V0TWFya2VycyIsImdldEpTT04iLCJkYXRhIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsIm1hcCIsImoiLCJsZW5ndGgiLCJfYWRkTWFya2VyIiwiaSIsImN1ckxhdExuZyIsIkxhdExuZyIsImJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsIk1hcmtlciIsInBvc2l0aW9uIiwiY2xpY2thYmxlIiwiaWNvbiIsInVybCIsInNjYWxlZFNpemUiLCJTaXplIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsImV4dGVuZCIsImdldFBvc2l0aW9uIiwiZml0Qm91bmRzIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRyxlQUFpQixXQUV4QixHQUFJRSxHQUFPRixFQUFHRyxTQUlsQkgsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBRXRCLEdBQUlJLEdBQVdKLEVBQUVHLFVBS3pCLElBQUlDLEdBQVcsU0FBVUMsR0FHckIsR0FJSUMsR0FDQUMsRUFMQUMsRUFBT0gsRUFDUEksRUFBcUJULEVBQUcsdUJBQ3hCVSxFQUFpQlYsRUFBRyxtQkFDcEJXLEVBQTBCLElBTTFCQyxHQUhVWixFQUFHYSxRQUdBLFdBRVRILEVBQWVJLElBQ1hDLE1BQU8sU0FBV0MsR0FFVmhCLEVBQUdHLE1BQU9jLFNBQVNDLFNBQVUsc0JBRTdCVixFQUFLVyxRQUFRLGNBQ2JILEVBQUVJLGtCQUdGcEIsRUFBR0csTUFBT2MsU0FBU0MsU0FBVSx3QkFFN0JsQixFQUFHLHFDQUFzQ3FCLFNBQVVaLEdBRW5EVCxFQUFHRyxNQUFPa0IsU0FBVSxxQkFFcEJaLEVBQW1CYSxNQUFNLEdBQU0sR0FBT0MsUUFBU1osT0FLM0RILEVBQUtNLElBQ0RVLFdBQVksV0FFUkMsYUFBY2xCLEdBRWRELEVBQXFCb0IsV0FBWSxXQUU3QmpCLEVBQW1CYSxNQUFNLEdBQU0sR0FBT0ssVUFBV2hCLElBRWxELFFBSVhILEVBQUtNLElBQ0RjLFdBQVksV0FFUkgsYUFBY25CLEdBRWRDLEVBQXFCbUIsV0FBWSxXQUUxQmpCLEVBQW1Cb0IsR0FBSSxh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R0EsRUFBZSxLQUNyRW9DLEVBQVMsR0FBSWQsUUFBT0MsS0FBS2MsWUFFN0J2QixHQUFVbUIsR0FBTSxHQUFJWCxRQUFPQyxLQUFLZSxRQUM1QkMsU0FBVUwsRUFDVkwsSUFBS0EsRUFDTFcsV0FBVyxFQUNYQyxNQUNJQyxJQUFLMUMsRUFBZ0IsS0FDckIyQyxXQUFZLEdBQUlyQixRQUFPQyxLQUFLcUIsS0FBTTVDLEVBQWdCLEtBQUcsR0FBS0EsRUFBZ0IsS0FBRyxLQUVqRjZDLFVBQVd2QixPQUFPQyxLQUFLdUIsVUFBVUMsTUFJckMsS0FBTSxHQUFJakIsR0FBSSxFQUFHQSxFQUFJaEIsRUFBU2lCLE9BQVFELElBRVgsS0FBbEJoQixFQUFVZ0IsSUFDWE0sRUFBT1ksT0FBUWxDLEVBQVVnQixHQUFJbUIsY0FJckNwQyxHQUFLcUMsVUFBV2QsSUFFYixJQUFKSCxHQUlYakIiLCJmaWxlIjoiY29udGFjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9fbWVudScgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5sYW5ndWFnZScgKSwgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgbmV3IExhbmd1YWdlICggJCh0aGlzKSApXG5cbiAgICAgICAgfSApO1xuICAgIH0pO1xuXG4gICAgdmFyIExhbmd1YWdlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2xhbmd1YWdlc0Ryb3BEb3duID0gJCggJy5sYW5ndWFnZV9fZHJvcGRvd24nICksXG4gICAgICAgICAgICBfbGFuZ3VhZ2VzSXRlbSA9ICQoICcubGFuZ3VhZ2VfX2l0ZW0nICksXG4gICAgICAgICAgICBfbGFuZ3VhZ2VzRHJvcERvd25TcGVlZCA9IDIwMCxcbiAgICAgICAgICAgIF9tb3VzZWVudGVyVGltZW91dCxcbiAgICAgICAgICAgIF9tb3VzZWxlYXZlVGltZW91dCxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9sYW5ndWFnZXNJdGVtLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoIHRoaXMgKS5wYXJlbnQoKS5oYXNDbGFzcyggJ2xhbmd1YWdlX19hY3RpdmUnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnRyaWdnZXIoJ21vdXNlZW50ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCB0aGlzICkucGFyZW50KCkuaGFzQ2xhc3MoICdsYW5ndWFnZV9fZHJvcGRvd24nICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCAnLmxhbmd1YWdlX19hY3RpdmUgLmxhbmd1YWdlX19pdGVtJyApLmFwcGVuZFRvKCBfbGFuZ3VhZ2VzRHJvcERvd24gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hcHBlbmRUbyggJy5sYW5ndWFnZV9fYWN0aXZlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xhbmd1YWdlc0Ryb3BEb3duLnN0b3AoIHRydWUsIHRydWUgKS5zbGlkZVVwKCBfbGFuZ3VhZ2VzRHJvcERvd25TcGVlZCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIF9tb3VzZWxlYXZlVGltZW91dCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW91c2VlbnRlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sYW5ndWFnZXNEcm9wRG93bi5zdG9wKCB0cnVlLCB0cnVlICkuc2xpZGVEb3duKCBfbGFuZ3VhZ2VzRHJvcERvd25TcGVlZCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIF9tb3VzZWVudGVyVGltZW91dCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW91c2VsZWF2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF9sYW5ndWFnZXNEcm9wRG93bi5pcyggJzp2aXNpYmxlJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sYW5ndWFnZXNEcm9wRG93bi5zdG9wKCB0cnVlLCB0cnVlICkuc2xpZGVVcCggX2xhbmd1YWdlc0Ryb3BEb3duU3BlZWQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX21lbnUgPSBvYmosXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3Nob3dCdG4gPSAkKCAnLnNpdGVfX21lbnUtYnRuJyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zaG93QnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCAkKCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc2V0U3R5bGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dTY3JvbGwgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBoZXJvSGVpZ2h0ID0gJCgnLnNpdGVfX2hlcm8nKS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB3aW5kb3dTY3JvbGwgPiBoZXJvSGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggIV9zaG93QnRuLmhhc0NsYXNzKCAnYWN0aXZlJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bi5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zaG93QnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24oIGVsZW0gKSAge1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xuXG4gICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgX21lbnUucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICBfbWVudS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVzZXRTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX21lbnUucmVtb3ZlQXR0ciggJ3N0eWxlJyApO1xuICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9tZW51WyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCJcbiggZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoICcuc2xpZGVzJyApLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTbGlkZXMgKCAkKCB0aGlzICkgKTtcbiAgICAgICAgfSApO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgU2xpZGVzID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+ICh0b3BQb3MgLSB3aW5kb3dILzEuMykgJiYgIWN1ckl0ZW0uaGFzQ2xhc3MoICdhbmltYXRpb24nICkgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcyggJ2FuaW1hdGlvbicgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLnNsaWRlcyA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG5cblxuXG5cbiIsIlxuKCBmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQuZWFjaCggJCggJy5jb250YWN0X19tYXAnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgTWFwICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuICAgIH0pO1xuXG4gICAgdmFyIE1hcCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLm1hcFdyYXAgPSB0aGlzLm9iajtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX21hcCxcbiAgICAgICAgICAgIF9tYXJrZXJzID0gW10sXG4gICAgICAgICAgICBfZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfbG9hZERhdGEoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdE1hcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtYXBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBfZGF0YVsgJ3pvb20nIF0sXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCggX3NlbGYubWFwV3JhcFswXSwgbWFwT3B0aW9ucyApO1xuICAgICAgICAgICAgICAgIF9zZXRNYXJrZXJzKCBfbWFwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbG9hZERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkLmdldEpTT04oJ2pzb24vY29udGFjdC1tYXAuanNvbicsIHt9LCBmdW5jdGlvbiggZGF0YSApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsIF9pbml0TWFwKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldE1hcmtlcnMgPSBmdW5jdGlvbiAoIG1hcCApIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPTA7IGogPCBfZGF0YVsgJ3BsYWNlcycgXS5sZW5ndGg7IGorKykge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hZGRNYXJrZXIoIGosIG1hcCApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRNYXJrZXIgPSBmdW5jdGlvbiAoIGksIG1hcCApIHtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBfZGF0YVsgJ3BsYWNlcycgXVtpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIGN1ckl0ZW1bICdsYXQnIF0sIGN1ckl0ZW1bICdsbmcnIF0gKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICBfbWFya2Vyc1sgaSBdID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcigge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGN1ckxhdExuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogbWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGN1ckl0ZW1bICdpY29uJyBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKCBjdXJJdGVtWyAnc2l6ZScgXVsgMCBdLCBjdXJJdGVtWyAnc2l6ZScgXVsgMSBdIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QXG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0gMDsgaiA8IF9tYXJrZXJzLmxlbmd0aDsgaisrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9tYXJrZXJzWyBqIF0gIT09ICcnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQoIF9tYXJrZXJzWyBqIF0uZ2V0UG9zaXRpb24oKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX21hcC5maXRCb3VuZHMoIGJvdW5kcyApO1xuXG4gICAgICAgICAgICAgICAgfSwgaSAqIDMwMCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxufSApKCk7XG4iXX0=
