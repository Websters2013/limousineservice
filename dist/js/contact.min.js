"use strict";!function(){$(function(){$.each($(".site__menu"),function(){new n($(this))}),$.each($(".language"),function(){new e($(this))})});var e=function(e){var n,o,i=e,s=$(".language__dropdown"),t=$(".language__item"),a=200,c=($(window),function(){t.on({click:function(e){$(this).parent().hasClass("language__active")&&(i.trigger("mouseenter"),e.preventDefault()),$(this).parent().hasClass("language__dropdown")&&($(".language__active .language__item").appendTo(s),$(this).appendTo(".language__active"),s.stop(!0,!0).slideUp(a))}}),i.on({mouseenter:function(){clearTimeout(o),n=setTimeout(function(){s.stop(!0,!0).slideDown(a)},200)}}),i.on({mouseleave:function(){clearTimeout(n),o=setTimeout(function(){s.is(":visible")&&s.stop(!0,!0).slideUp(a)},200)}})}),u=function(){c()};u()},n=function(e){var n=this,o=e,i=$("body"),s=$(window),t=$(".site__menu-btn"),a=function(){t.on({click:function(){u($(this))}}),s.on({resize:function(){l()},scroll:function(){c()}})},c=function(){var e=s.scrollTop(),n=$(".site__hero").innerHeight();e>n?t.hasClass("active")||t.addClass("active"):t.removeClass("active")},u=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),o.removeClass("opened"),i.css({overflow:"visible"})):(n.addClass("opened"),o.addClass("opened"),i.css({overflow:"hidden"}))},l=function(){t.removeClass("opened"),o.removeAttr("style"),i.css({overflow:"visible"})},r=function(){o[0].obj=n,a()};r()}}();
!function(){"use strict";$(function(){$.each($(".slides"),function(){new n($(this))})});var n=function(n){var i=this,t=n,o=$(window),s=function(){o.on({scroll:function(){a()}})},a=function(){var n=o.height();t.each(function(){var i=$(this),s=t.offset().top;o.scrollTop()>s-n/1.3&&!i.hasClass("animation")&&i.addClass("animation")})},c=function(){t[0].slides=i,s(),a()};c()}}();
!function(){"use strict";$(function(){$.each($(".contact__map"),function(){new n($(this))})});var n=function(n){this.obj=n,this.mapWrap=this.obj;var o,t=this,e=[],a=null,i=function(){c(),l()},s=function(){var n={zoom:a.zoom,scrollwheel:!1};o=new google.maps.Map(t.mapWrap[0],n),g(o)},c=function(){$.getJSON("json/contact-map.json",{},function(n){a=n,google.maps.event.addDomListener(window,"load",s)})},l=function(){},g=function(n){for(var o=0;o<a.places.length;o++)m(o,n)},m=function(n,t){setTimeout(function(){var i=a.places[n],s=new google.maps.LatLng(i.lat,i.lng),c=new google.maps.LatLngBounds;e[n]=new google.maps.Marker({position:s,map:t,clickable:!1,icon:{url:i.icon,scaledSize:new google.maps.Size(i.size[0],i.size[1])},animation:google.maps.Animation.DROP});for(var l=0;l<e.length;l++)""!==e[l]&&c.extend(e[l].getPosition());o.fitBounds(c)},300*n)};i()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmFuaW1hdGlvbi5qcyIsImpxdWVyeS5jb250YWN0LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiTWVudSIsInRoaXMiLCJMYW5ndWFnZSIsIm9iaiIsIl9tb3VzZWVudGVyVGltZW91dCIsIl9tb3VzZWxlYXZlVGltZW91dCIsIl9vYmoiLCJfbGFuZ3VhZ2VzRHJvcERvd24iLCJfbGFuZ3VhZ2VzSXRlbSIsIl9sYW5ndWFnZXNEcm9wRG93blNwZWVkIiwiX2FkZEV2ZW50cyIsIndpbmRvdyIsIm9uIiwiY2xpY2siLCJlIiwicGFyZW50IiwiaGFzQ2xhc3MiLCJ0cmlnZ2VyIiwicHJldmVudERlZmF1bHQiLCJhcHBlbmRUbyIsInN0b3AiLCJzbGlkZVVwIiwibW91c2VlbnRlciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJzbGlkZURvd24iLCJtb3VzZWxlYXZlIiwiaXMiLCJfaW5pdCIsIl9zZWxmIiwiX21lbnUiLCJfYm9keSIsIl93aW5kb3ciLCJfc2hvd0J0biIsIl9vbkV2ZW50cyIsIl9vcGVuTWVudSIsInJlc2l6ZSIsIl9yZXNldFN0eWxlIiwic2Nyb2xsIiwiX2NoZWNrU2Nyb2xsIiwid2luZG93U2Nyb2xsIiwic2Nyb2xsVG9wIiwiaGVyb0hlaWdodCIsImlubmVySGVpZ2h0IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImVsZW0iLCJjdXJJdGVtIiwiY3NzIiwib3ZlcmZsb3ciLCJyZW1vdmVBdHRyIiwiU2xpZGVzIiwid2luZG93SCIsImhlaWdodCIsInRvcFBvcyIsIm9mZnNldCIsInRvcCIsInNsaWRlcyIsIk1hcCIsIm1hcFdyYXAiLCJfbWFwIiwiX21hcmtlcnMiLCJfZGF0YSIsIl9jb25zdHJ1Y3RvciIsIl9sb2FkRGF0YSIsIl9pbml0TWFwIiwibWFwT3B0aW9ucyIsInpvb20iLCJzY3JvbGx3aGVlbCIsImdvb2dsZSIsIm1hcHMiLCJfc2V0TWFya2VycyIsImdldEpTT04iLCJkYXRhIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsIm1hcCIsImoiLCJsZW5ndGgiLCJfYWRkTWFya2VyIiwiaSIsImN1ckxhdExuZyIsIkxhdExuZyIsImJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsIk1hcmtlciIsInBvc2l0aW9uIiwiY2xpY2thYmxlIiwiaWNvbiIsInVybCIsInNjYWxlZFNpemUiLCJTaXplIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsImV4dGVuZCIsImdldFBvc2l0aW9uIiwiZml0Qm91bmRzIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRyxlQUFpQixXQUV4QixHQUFJRSxHQUFPRixFQUFHRyxTQUlsQkgsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBRXRCLEdBQUlJLEdBQVdKLEVBQUVHLFVBS3pCLElBQUlDLEdBQVcsU0FBVUMsR0FHckIsR0FJSUMsR0FDQUMsRUFMQUMsRUFBT0gsRUFDUEksRUFBcUJULEVBQUcsdUJBQ3hCVSxFQUFpQlYsRUFBRyxtQkFDcEJXLEVBQTBCLElBTTFCQyxHQUhVWixFQUFHYSxRQUdBLFdBRVRILEVBQWVJLElBQ1hDLE1BQU8sU0FBV0MsR0FFVmhCLEVBQUdHLE1BQU9jLFNBQVNDLFNBQVUsc0JBRTdCVixFQUFLVyxRQUFRLGNBQ2JILEVBQUVJLGtCQUdGcEIsRUFBR0csTUFBT2MsU0FBU0MsU0FBVSx3QkFFN0JsQixFQUFHLHFDQUFzQ3FCLFNBQVVaLEdBRW5EVCxFQUFHRyxNQUFPa0IsU0FBVSxxQkFFcEJaLEVBQW1CYSxNQUFNLEdBQU0sR0FBT0MsUUFBU1osT0FLM0RILEVBQUtNLElBQ0RVLFdBQVksV0FFUkMsYUFBY2xCLEdBRWRELEVBQXFCb0IsV0FBWSxXQUU3QmpCLEVBQW1CYSxNQUFNLEdBQU0sR0FBT0ssVUFBV2hCLElBRWxELFFBSVhILEVBQUtNLElBQ0RjLFdBQVksV0FFUkgsYUFBY25CLEdBRWRDLEVBQXFCbUIsV0FBWSxXQUUxQmpCLEVBQW1Cb0IsR0FBSSxh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R0EsRUFBZSxLQUNyRW9DLEVBQVMsR0FBSWQsUUFBT0MsS0FBS2MsWUFFN0J2QixHQUFVbUIsR0FBTSxHQUFJWCxRQUFPQyxLQUFLZSxRQUM1QkMsU0FBVUwsRUFDVkwsSUFBS0EsRUFDTFcsV0FBVyxFQUNYQyxNQUNJQyxJQUFLMUMsRUFBZ0IsS0FDckIyQyxXQUFZLEdBQUlyQixRQUFPQyxLQUFLcUIsS0FBTTVDLEVBQWdCLEtBQUcsR0FBS0EsRUFBZ0IsS0FBRyxLQUVqRjZDLFVBQVd2QixPQUFPQyxLQUFLdUIsVUFBVUMsTUFJckMsS0FBTSxHQUFJakIsR0FBSSxFQUFHQSxFQUFJaEIsRUFBU2lCLE9BQVFELElBRVgsS0FBbEJoQixFQUFVZ0IsSUFDWE0sRUFBT1ksT0FBUWxDLEVBQVVnQixHQUFJbUIsY0FJckNwQyxHQUFLcUMsVUFBV2QsSUFFYixJQUFKSCxHQUlYakIiLCJmaWxlIjoiY29udGFjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuKCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnNpdGVfX21lbnUnICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IE1lbnUgKCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubGFuZ3VhZ2UnICksIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICBuZXcgTGFuZ3VhZ2UgKCAkKHRoaXMpIClcclxuXHJcbiAgICAgICAgfSApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIExhbmd1YWdlID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfbGFuZ3VhZ2VzRHJvcERvd24gPSAkKCAnLmxhbmd1YWdlX19kcm9wZG93bicgKSxcclxuICAgICAgICAgICAgX2xhbmd1YWdlc0l0ZW0gPSAkKCAnLmxhbmd1YWdlX19pdGVtJyApLFxyXG4gICAgICAgICAgICBfbGFuZ3VhZ2VzRHJvcERvd25TcGVlZCA9IDIwMCxcclxuICAgICAgICAgICAgX21vdXNlZW50ZXJUaW1lb3V0LFxyXG4gICAgICAgICAgICBfbW91c2VsZWF2ZVRpbWVvdXQsXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfbGFuZ3VhZ2VzSXRlbS5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICggZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCB0aGlzICkucGFyZW50KCkuaGFzQ2xhc3MoICdsYW5ndWFnZV9fYWN0aXZlJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudHJpZ2dlcignbW91c2VlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCggdGhpcyApLnBhcmVudCgpLmhhc0NsYXNzKCAnbGFuZ3VhZ2VfX2Ryb3Bkb3duJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoICcubGFuZ3VhZ2VfX2FjdGl2ZSAubGFuZ3VhZ2VfX2l0ZW0nICkuYXBwZW5kVG8oIF9sYW5ndWFnZXNEcm9wRG93biApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hcHBlbmRUbyggJy5sYW5ndWFnZV9fYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sYW5ndWFnZXNEcm9wRG93bi5zdG9wKCB0cnVlLCB0cnVlICkuc2xpZGVVcCggX2xhbmd1YWdlc0Ryb3BEb3duU3BlZWQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoub24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCggX21vdXNlbGVhdmVUaW1lb3V0ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW91c2VlbnRlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbGFuZ3VhZ2VzRHJvcERvd24uc3RvcCggdHJ1ZSwgdHJ1ZSApLnNsaWRlRG93biggX2xhbmd1YWdlc0Ryb3BEb3duU3BlZWQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCBfbW91c2VlbnRlclRpbWVvdXQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb3VzZWxlYXZlVGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF9sYW5ndWFnZXNEcm9wRG93bi5pcyggJzp2aXNpYmxlJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbGFuZ3VhZ2VzRHJvcERvd24uc3RvcCggdHJ1ZSwgdHJ1ZSApLnNsaWRlVXAoIF9sYW5ndWFnZXNEcm9wRG93blNwZWVkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9tZW51ID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9zaG93QnRuID0gJCggJy5zaXRlX19tZW51LWJ0bicgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoICQoIHRoaXMgKSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc2V0U3R5bGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd1Njcm9sbCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVyb0hlaWdodCA9ICQoJy5zaXRlX19oZXJvJykuaW5uZXJIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIHdpbmRvd1Njcm9sbCA+IGhlcm9IZWlnaHQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIV9zaG93QnRuLmhhc0NsYXNzKCAnYWN0aXZlJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dCdG4uYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiggZWxlbSApICB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIF9tZW51LnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ3Zpc2libGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgX21lbnUuYWRkQ2xhc3MoICdvcGVuZWQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZXNldFN0eWxlID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICBfbWVudS5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XHJcbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZSdcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfbWVudVsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxufSApKCk7XHJcbiIsIlxyXG4oIGZ1bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zbGlkZXMnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBTbGlkZXMgPSBmdW5jdGlvbiAoIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dIID0gX3dpbmRvdy5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+ICh0b3BQb3MgLSB3aW5kb3dILzEuMykgJiYgIWN1ckl0ZW0uaGFzQ2xhc3MoICdhbmltYXRpb24nICkgKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdhbmltYXRpb24nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5zbGlkZXMgPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG5cclxuXHJcblxyXG5cclxuIiwiXHJcbiggZnVuY3Rpb24oKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAkKCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmNvbnRhY3RfX21hcCcgKSwgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgTWFwICggJCggdGhpcyApICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBNYXAgPSBmdW5jdGlvbiAoIG9iaiApIHtcclxuXHJcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XHJcbiAgICAgICAgdGhpcy5tYXBXcmFwID0gdGhpcy5vYmo7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX21hcCxcclxuICAgICAgICAgICAgX21hcmtlcnMgPSBbXSxcclxuICAgICAgICAgICAgX2RhdGEgPSBudWxsO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9hZERhdGEoKTtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdE1hcCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB6b29tOiBfZGF0YVsgJ3pvb20nIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIF9tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKCBfc2VsZi5tYXBXcmFwWzBdLCBtYXBPcHRpb25zICk7XHJcbiAgICAgICAgICAgICAgICBfc2V0TWFya2VycyggX21hcCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWREYXRhID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQuZ2V0SlNPTignanNvbi9jb250YWN0LW1hcC5qc29uJywge30sIGZ1bmN0aW9uKCBkYXRhICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgX2luaXRNYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldE1hcmtlcnMgPSBmdW5jdGlvbiAoIG1hcCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0wOyBqIDwgX2RhdGFbICdwbGFjZXMnIF0ubGVuZ3RoOyBqKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2FkZE1hcmtlciggaiwgbWFwIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZE1hcmtlciA9IGZ1bmN0aW9uICggaSwgbWFwICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gX2RhdGFbICdwbGFjZXMnIF1baV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIGN1ckl0ZW1bICdsYXQnIF0sIGN1ckl0ZW1bICdsbmcnIF0gKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfbWFya2Vyc1sgaSBdID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcigge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogY3VyTGF0TG5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjdXJJdGVtWyAnaWNvbicgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKCBjdXJJdGVtWyAnc2l6ZScgXVsgMCBdLCBjdXJJdGVtWyAnc2l6ZScgXVsgMSBdIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0gMDsgaiA8IF9tYXJrZXJzLmxlbmd0aDsgaisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfbWFya2Vyc1sgaiBdICE9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQoIF9tYXJrZXJzWyBqIF0uZ2V0UG9zaXRpb24oKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfbWFwLmZpdEJvdW5kcyggYm91bmRzICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgaSAqIDMwMCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuICAgIH07XHJcblxyXG59ICkoKTtcclxuIl19
